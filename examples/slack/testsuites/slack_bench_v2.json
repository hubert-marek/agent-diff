{
  "id": "slack-bench-v2",
  "name": "Slack Bench v2 (Combined)",
  "description": "Combined benchmark: v1 tests + LLM-generated hard tests",
  "service": "slack",
  "ignore_fields": {
    "global": [
      "created_at",
      "updated_at"
    ]
  },
  "tests": [
    {
      "id": "test_1",
      "name": "Send message to general channel",
      "prompt": "Send a 'hello' message to the general channel",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 2,
        "tools_required": [
          "conversations.list",
          "chat.postMessage"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "message_text": {
              "contains": "hello"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_2",
      "name": "Send direct message",
      "prompt": "Send a DM to John saying 'Can we sync later?'",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 3,
        "tools_required": [
          "users.list",
          "conversations.open",
          "chat.postMessage"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "message_text": {
              "contains": "sync later"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "is_dm": {
              "eq": true
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_3",
      "name": "Send direct message Artem, and Hubert (Create group conversation + send message)",
      "prompt": "Send a DM (group conversation not channel) to Artem and Hubert saying 'Hey, I've took a look at the presentation and I have some questions. Can you help me?'",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 3,
        "tools_required": [
          "users.list",
          "conversations.open",
          "chat.postMessage"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "message_text": {
              "contains": "presentation and I have some questions"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "is_gc": {
              "eq": true
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_4",
      "name": "Create a new channel",
      "prompt": "Create a new channel called 'rl-project'",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 1,
        "tools_required": [
          "conversations.create"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "channel_name": {
              "i_contains": "rl-project"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_5",
      "name": "Add user to channel",
      "prompt": "Add Morgan Stanley to the 'random' channel",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 3,
        "tools_required": [
          "users.list",
          "conversations.list",
          "conversations.invite"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U05MORGAN23"
            },
            "channel_id": {
              "eq": "C02EFGH5678"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_6",
      "name": "Create a new channel and add user to it ",
      "prompt": "Create a new channel called 'rl-project' and add Morgan Stanley to it",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 3,
        "tools_required": [
          "users.list",
          "conversations.create",
          "conversations.invite"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "channel_name": {
              "i_contains": "rl-project"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U05MORGAN23"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_7",
      "name": "Remove user from channel",
      "prompt": "Remove John from the #random channel",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 3,
        "tools_required": [
          "users.list",
          "conversations.list",
          "conversations.kick"
        ]
      },
      "assertions": [
        {
          "diff_type": "removed",
          "entity": "channel_members",
          "where": {
            "channel_id": {
              "eq": "C02EFGH5678"
            },
            "user_id": {
              "eq": "U02JOHNDOE1"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_8",
      "name": "Archive a channel",
      "prompt": "Archive the #growth channel",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 2,
        "tools_required": [
          "conversations.list",
          "conversations.archive"
        ]
      },
      "assertions": [
        {
          "diff_type": "changed",
          "entity": "channels",
          "where": {
            "channel_id": {
              "eq": "C04MNOP3456"
            }
          },
          "expected_changes": {
            "is_archived": {
              "to": true
            }
          }
        }
      ]
    },
    {
      "id": "test_9",
      "name": "Reply in a thread",
      "prompt": "Reply 'Next monday.' to the most recent message in #general",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 3,
        "tools_required": [
          "conversations.list",
          "conversations.history",
          "chat.postMessage"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "parent_id": {
              "eq": "1700173200.000456"
            },
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "message_text": {
              "contains": "Next monday"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_10",
      "name": "Reply in a thread",
      "prompt": "Reply 'Next monday.' to the to MCP deployment questions in #general",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 3,
        "tools_required": [
          "conversations.list",
          "conversations.history",
          "chat.postMessage"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "parent_id": {
              "eq": "1700173200.000456"
            },
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "message_text": {
              "contains": "Next monday"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_11",
      "name": "Add emoji reactions",
      "prompt": "In #random, react with :thumbsup: to all messages that are questions about lunch, and react with :thumbsdown: to the message about piza combo",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 5,
        "tools_required": [
          "conversations.list",
          "conversations.history",
          "reactions.add",
          "reactions.add",
          "reactions.add"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "message_reactions",
          "where": {
            "message_id": {
              "eq": "1699572000.000789"
            },
            "reaction_type": {
              "eq": "thumbsup"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "message_reactions",
          "where": {
            "message_id": {
              "eq": "1706052665.000000"
            },
            "reaction_type": {
              "eq": "thumbsup"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "message_reactions",
          "where": {
            "message_id": {
              "eq": "1706051755.000000"
            },
            "reaction_type": {
              "eq": "thumbsdown"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_12",
      "name": "Add emoji reaction",
      "prompt": "React with :thumbsup: to the most recent posted message in #general",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 3,
        "tools_required": [
          "conversations.list",
          "conversations.history",
          "reactions.add"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "message_reactions",
          "where": {
            "message_id": {
              "eq": "1700173200.000456"
            },
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "reaction_type": {
              "eq": "thumbsup"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_13",
      "name": "Update channel topic",
      "prompt": "Change the #general channel topic to 'Weekly standup discussions'",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 2,
        "tools_required": [
          "conversations.list",
          "conversations.setTopic"
        ]
      },
      "assertions": [
        {
          "diff_type": "changed",
          "entity": "channels",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            }
          },
          "expected_changes": {
            "topic_text": {
              "to": {
                "contains": "Weekly standup"
              }
            }
          }
        }
      ]
    },
    {
      "id": "test_14",
      "name": "Edit existing message",
      "prompt": "Find the message that says 'Hey team' and edit it to say 'Hello everyone'",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 2,
        "tools_required": [
          "search.messages",
          "chat.update"
        ]
      },
      "assertions": [
        {
          "diff_type": "changed",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "message_id": {
              "eq": "1699564800.000123"
            }
          },
          "expected_changes": {
            "message_text": {
              "to": {
                "contains": "Hello everyone"
              }
            }
          }
        }
      ]
    },
    {
      "id": "test_15",
      "name": "Mention user in message",
      "prompt": "Post to #general mentioning Artem with text 'Please review the pull request'",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 3,
        "tools_required": [
          "users.list",
          "conversations.list",
          "chat.postMessage"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "message_text": {
              "contains": "<@U02ARTEM23>"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_16",
      "name": "Multi-channel send",
      "prompt": "Send 'System maintenance tonight at 10pm' to both #general and #random",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 3,
        "tools_required": [
          "conversations.list",
          "chat.postMessage",
          "chat.postMessage"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "message_text": {
              "contains": "maintenance"
            },
            "channel_id": {
              "eq": "C01ABCD1234"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "message_text": {
              "contains": "maintenance"
            },
            "channel_id": {
              "eq": "C02EFGH5678"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_17",
      "name": "Delete old message",
      "prompt": "Delete the message about new feature you posted in #general",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 3,
        "tools_required": [
          "conversations.list",
          "conversations.history",
          "chat.delete"
        ]
      },
      "assertions": [
        {
          "diff_type": "removed",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "message_text": {
              "contains": "new feature"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_18",
      "name": "Forward questions to another channel",
      "prompt": "Find all questions in #random and post each one to #general as separate messages.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 6,
        "tools_required": [
          "conversations.list",
          "conversations.history",
          "chat.postMessage",
          "chat.postMessage",
          "chat.postMessage",
          "chat.postMessage"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "message_text": {
              "contains": "Gemini"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "message_text": {
              "contains": "preview"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "message_text": {
              "contains": "garlic knots"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "message_text": {
              "contains": "shared lunch"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_19",
      "name": "Search messages in a channel and combine results into a new message as DM",
      "prompt": "Search for all messages (4 messages) in the #engineering channel related to login issues and combine them into a single new message as DM to Hubert. Do not change the meaning of the original messages just combine them.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 4,
        "tools_required": [
          "search.messages",
          "users.list",
          "conversations.open",
          "chat.postMessage"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "is_dm": {
              "eq": true
            },
            "channel_id": {
              "regex": "^D"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U06HUBERT23"
            },
            "channel_id": {
              "regex": "^D"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "channel_id": {
              "regex": "^D"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "channel_id": {
              "regex": "^D"
            },
            "message_text": {
              "contains": "500 errors"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "channel_id": {
              "regex": "^D"
            },
            "message_text": {
              "contains": "invalid_grant"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "channel_id": {
              "regex": "^D"
            },
            "message_text": {
              "contains": "login rate limit"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "channel_id": {
              "regex": "^D"
            },
            "message_text": {
              "contains": "login endpoint"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_20",
      "name": "Search messages in multiple channels and combine results into a new message as DM",
      "prompt": "Search for all messages (6 messages) related to login issues and auth improvments. Combine them into a single new message as DM to Hubert. Do not change the meaning of the original messages just combine them.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 4,
        "tools_required": [
          "search.messages",
          "users.list",
          "conversations.open",
          "chat.postMessage"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "is_dm": {
              "eq": true
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U06HUBERT23"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "message_text": {
              "contains": "500 errors"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "message_text": {
              "contains": "invalid_grant"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "message_text": {
              "contains": "login rate limit"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "message_text": {
              "contains": "login endpoint"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "message_text": {
              "contains": "captcha"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "message_text": {
              "contains": "empty password"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_21",
      "name": "Search messages in multiple channels and edit message in a channel with the combined results",
      "prompt": "Search for all messages (6 messages) related to login issues and auth improvments. Edit the message in the #engineering channel you sent before without details about issues and add the details about the issues and improvements. Do not change the meaning/ woring of the original messages just combine them.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 3,
        "tools_required": [
          "search.messages",
          "conversations.history",
          "chat.update"
        ]
      },
      "assertions": [
        {
          "diff_type": "changed",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C03IJKL9012"
            },
            "message_id": {
              "eq": "1700143200.000999"
            }
          },
          "expected_changes": {
            "message_text": {
              "to": {
                "contains": "500 errors"
              }
            }
          }
        },
        {
          "diff_type": "changed",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C03IJKL9012"
            },
            "message_id": {
              "eq": "1700143200.000999"
            }
          },
          "expected_changes": {
            "message_text": {
              "to": {
                "contains": "invalid_grant"
              }
            }
          }
        },
        {
          "diff_type": "changed",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C03IJKL9012"
            },
            "message_id": {
              "eq": "1700143200.000999"
            }
          },
          "expected_changes": {
            "message_text": {
              "to": {
                "contains": "login rate limit"
              }
            }
          }
        },
        {
          "diff_type": "changed",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C03IJKL9012"
            },
            "message_id": {
              "eq": "1700143200.000999"
            }
          },
          "expected_changes": {
            "message_text": {
              "to": {
                "contains": "ogin endpoint"
              }
            }
          }
        },
        {
          "diff_type": "changed",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C03IJKL9012"
            },
            "message_id": {
              "eq": "1700143200.000999"
            }
          },
          "expected_changes": {
            "message_text": {
              "to": {
                "contains": "captcha"
              }
            }
          }
        },
        {
          "diff_type": "changed",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C03IJKL9012"
            },
            "message_id": {
              "eq": "1700143200.000999"
            }
          },
          "expected_changes": {
            "message_text": {
              "to": {
                "contains": "empty password"
              }
            }
          }
        }
      ]
    },
    {
      "id": "test_22",
      "name": "Edit a thread message",
      "prompt": "You've replied to one of the messages with a bad joke. Edit it, for 'I will make a proposal for auth improvements tommorow EOD'",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 3,
        "tools_required": [
          "conversations.history",
          "conversations.replies",
          "chat.update"
        ]
      },
      "assertions": [
        {
          "diff_type": "changed",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C03IJKL9012"
            },
            "parent_id": {
              "eq": "1700143200.000999"
            },
            "message_id": {
              "eq": "1700153200.000999"
            },
            "user_id": {
              "eq": "U01AGENBOT9"
            }
          },
          "expected_changes": {
            "message_text": {
              "to": {
                "contains": "proposal for auth improvements tommorow EOD"
              }
            }
          }
        }
      ]
    },
    {
      "id": "test_23",
      "name": "Rich Text: Basic Formatting (Bold/Italic)",
      "prompt": "Send a message to #general saying 'Attention' in bold and 'check logs' in italics. Use Slack Block Kit rich_text blocks with style attributes (bold:true, italic:true).",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 2,
        "tools_required": [
          "conversations.list",
          "chat.postMessage"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "blocks": {
              "contains": "rich_text_section"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "blocks": {
              "contains": "\"bold\":true"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "blocks": {
              "contains": "\"italic\":true"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_24",
      "name": "Rich Text: Bulleted List",
      "prompt": "Send a bulleted list to #random with three items: 'Bagels', 'Coffee', and 'Donuts'. Use Slack Block Kit rich_text blocks with rich_text_list (style:bullet).",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 2,
        "tools_required": [
          "conversations.list",
          "chat.postMessage"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C02EFGH5678"
            },
            "blocks": {
              "contains": "rich_text_list"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C02EFGH5678"
            },
            "blocks": {
              "contains": "\"style\":\"bullet\""
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_25",
      "name": "Rich Text: Code Block and Numbered List",
      "prompt": "Do two things using Slack Block Kit: 1) Send a code snippet to #engineering containing `{\"status\": 200}` using rich_text_preformatted element, and 2) Send a numbered list to #general with items 'Phase 1' and 'Phase 2' using rich_text_list with style:ordered.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 3,
        "tools_required": [
          "conversations.list",
          "chat.postMessage",
          "chat.postMessage"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C03IJKL9012"
            },
            "blocks": {
              "contains": "rich_text_preformatted"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "blocks": {
              "contains": "rich_text_list"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_26",
      "name": "Rich Text: Block Quote",
      "prompt": "Quote the text 'To be or not to be' in the #random channel. Use Slack Block Kit rich_text blocks with rich_text_quote element.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 2,
        "tools_required": [
          "conversations.list",
          "chat.postMessage"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C02EFGH5678"
            },
            "blocks": {
              "contains": "rich_text_quote"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_27",
      "name": "Table Block Generation",
      "prompt": "Send a table to #growth with headers 'Metric' and 'Value', and one row of data: 'DAU', '1500'. Use Slack Block Kit with a table block type.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 2,
        "tools_required": [
          "conversations.list",
          "chat.postMessage"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C04MNOP3456"
            },
            "blocks": {
              "contains": "\"type\":\"table\""
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C04MNOP3456"
            },
            "blocks": {
              "contains": "DAU"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_28",
      "name": "Markdown Block (Direct)",
      "prompt": "Send a markdown formatted message to #engineering with a header 'Daily Report' and a bold item '**All Systems Go**'. Use Slack Block Kit with a markdown block type.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 2,
        "tools_required": [
          "conversations.list",
          "chat.postMessage"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C03IJKL9012"
            },
            "blocks": {
              "contains": "\"type\":\"mrkdwn\""
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_29",
      "name": "Rich Text: User Mention",
      "prompt": "Mention @Artem in #general using Slack Block Kit rich_text blocks with a user element type containing Artem's user ID.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 3,
        "tools_required": [
          "users.list",
          "conversations.list",
          "chat.postMessage"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "blocks": {
              "contains": "\"type\":\"user\""
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "blocks": {
              "contains": "U02ARTEM23"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_30",
      "name": "Chained Reasoning: Search and DM",
      "prompt": "Find the user who complained about 'captcha' in #general and send them a DM saying 'I am looking into this.'",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 3,
        "tools_required": [
          "search.messages",
          "conversations.open",
          "chat.postMessage"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "is_dm": {
              "eq": true
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "message_text": {
              "contains": "looking into this"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U06HUBERT23"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_31",
      "name": "Set Operations: Group Invite based on Topic",
      "prompt": "Create a new channel called 'auth-force' and invite everyone who has posted about 'login' or 'password'.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 4,
        "tools_required": [
          "search.messages",
          "search.messages",
          "conversations.create",
          "conversations.invite"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "channel_name": {
              "contains": "auth-force"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "in": [
                "U01AGENBOT9",
                "U02JOHNDOE1",
                "U03ROBERT23",
                "U05MORGAN23",
                "U02ARTEM23",
                "U06HUBERT23"
              ]
            }
          },
          "expected_count": 6
        }
      ]
    },
    {
      "id": "test_32",
      "name": "Constraint Verification (Negative Test)",
      "prompt": "Try to invite the user 'ElonMusk' to #general. If you can't find him, inform me (Hubert) via Slack.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 4,
        "tools_required": [
          "users.list",
          "users.list",
          "conversations.open",
          "chat.postMessage"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            }
          },
          "expected_count": 0
        },
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "is_dm": {
              "eq": true
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "message_text": {
              "regex": "find|found|unable|couldn't|could not|not exist"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U06HUBERT23"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_33",
      "name": "Information Synthesis",
      "prompt": "Who are the admins of the 'Test Workspace'? Reply with their names in #random.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 3,
        "tools_required": [
          "users.list",
          "conversations.list",
          "chat.postMessage"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C02EFGH5678"
            },
            "message_text": {
              "contains": "Robert"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C02EFGH5678"
            },
            "message_text": {
              "contains": "Morgan"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_34",
      "name": "Ambiguity Resolution (Contextual User)",
      "prompt": "Invite the Morgan who is NOT an admin to #random.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 3,
        "tools_required": [
          "users.list",
          "conversations.list",
          "conversations.invite"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U05MORGAN23"
            },
            "channel_id": {
              "eq": "C02EFGH5678"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_35",
      "name": "Ambiguity Resolution (Contextual Channel)",
      "prompt": "Post 'Status update: Alpha is on track' to the alpha dev channel.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 2,
        "tools_required": [
          "conversations.list",
          "chat.postMessage"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C06ALPHADEV"
            },
            "message_text": {
              "contains": "Status update"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_36",
      "name": "Cross-channel Summarization",
      "prompt": "Summarize the discussion about 'Gemini' in #random and post the summary to #engineering.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 3,
        "tools_required": [
          "conversations.list",
          "conversations.history",
          "chat.postMessage"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C03IJKL9012"
            },
            "message_text": {
              "contains": "frontend"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C03IJKL9012"
            },
            "message_text": {
              "contains": "Flash"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_37",
      "name": "Conditional Logic",
      "prompt": "Check the discussion in #growth. If the team decided to double down on Reddit, react with :rocket: to the message proposing it.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 3,
        "tools_required": [
          "conversations.list",
          "conversations.history",
          "reactions.add"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "message_reactions",
          "where": {
            "message_id": {
              "eq": "1700300240.000005"
            },
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "reaction_type": {
              "eq": "rocket"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_38",
      "name": "Open Source Hackathon Coordination",
      "prompt": "Hey, I need your help coordinating our 24-hour global hackathon across Lagos, Kyiv, Warsaw, and SF. First, can you find out which channels are relevant for this open source hackathon we're running? I want to make sure #core-infra has an updated topic that reflects we're in hackathon mode.\n\nAlso, I need to post an update to the infrastructure team about our coordination status. Before I loop in \u0141ukasz Kowalski and Kenji Sato, can you pull up their profiles? I want to confirm \u0141ukasz is still our performance lead and check Kenji's role on the APAC growth side.\n\nI posted something outdated in one of the channels yesterday that needs to be removed - it had wrong timezone info. Can you also check what's been discussed recently in #project-alpha-dev so I'm caught up? And verify who's currently in #frontend - we might need to add some people.\n\nOh, and when you find any important messages about the hackathon prep, just give them a thumbs up so people know we've seen them.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 9,
        "tools_required": [
          "conversations.list",
          "conversations.setTopic",
          "chat.postMessage",
          "users.info",
          "users.info",
          "conversations.history",
          "reactions.add",
          "chat.delete",
          "conversations.members"
        ]
      },
      "_step_sequence": [
        {
          "endpoint": "conversations.setTopic",
          "action": "Set channel topic about Open Source Hackathon Coordination",
          "justification": "Clarify channel purpose"
        },
        {
          "endpoint": "chat.postMessage",
          "action": "Post update to #core-infra",
          "justification": "Share findings or coordinate with team"
        },
        {
          "endpoint": "users.info",
          "action": "Get details about \u0141ukasz Kowalski",
          "justification": "Verify their role in performance"
        },
        {
          "endpoint": "conversations.history",
          "action": "Read recent messages in #project-alpha-dev",
          "justification": "Gather context about general"
        },
        {
          "endpoint": "reactions.add",
          "action": "React to a key message",
          "justification": "Signal acknowledgment without cluttering"
        },
        {
          "endpoint": "conversations.list",
          "action": "Discover channels related to Open Source Hackathon Coordination",
          "justification": "Need to find relevant channels before coordinating"
        },
        {
          "endpoint": "users.info",
          "action": "Get details about Kenji Sato",
          "justification": "Verify their role in APAC growth"
        },
        {
          "endpoint": "chat.delete",
          "action": "Delete an outdated message",
          "justification": "Clean up obsolete information"
        },
        {
          "endpoint": "conversations.members",
          "action": "Check members of #frontend",
          "justification": "Verify the right people are involved"
        }
      ],
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {},
          "expected_count": {
            "min": 1
          }
        }
      ]
    },
    {
      "id": "test_39",
      "name": "Diwali x Thanksgiving Potluck",
      "prompt": "I need some help organizing our Diwali x Thanksgiving potluck celebration! We're doing a combined Indian and American traditions thing and I want to make sure we coordinate this properly across the team.\n\nFirst, can you check what channels we have that might be relevant for this event and see what's been discussed recently in #core-infra? I want to make sure I'm not stepping on any ongoing conversations. Also, I need to know who's on our team so I can figure out who to involve based on their backgrounds and expertise.\n\nOnce you've got that context, please update the topics for #core-infra, #project-alpha, and #growth to reflect that we're planning this potluck celebration. Then post an announcement in #project-alpha about the event.\n\nI also need you to check who's currently in #growth to make sure the right people are included, and open a direct message with Kenji Sato since I need to coordinate with him separately about timing given APAC schedules.\n\nOh, and there's an old message I posted earlier about the event that has wrong details - can you update it with the correct information? There's also an outdated announcement from last week that's no longer relevant, so please delete that. Finally, just react to Priya's message about bringing samosas to show I've seen it!",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 13,
        "tools_required": [
          "conversations.list",
          "conversations.history",
          "users.list",
          "conversations.setTopic",
          "conversations.setTopic",
          "conversations.setTopic",
          "chat.postMessage",
          "conversations.members",
          "conversations.open",
          "chat.update",
          "chat.delete",
          "reactions.add",
          "chat.postMessage"
        ]
      },
      "_step_sequence": [
        {
          "endpoint": "chat.postMessage",
          "action": "Post update to #project-alpha",
          "justification": "Share findings or coordinate with team"
        },
        {
          "endpoint": "conversations.setTopic",
          "action": "Set channel topic about Diwali x Thanksgiving Potluck",
          "justification": "Clarify channel purpose"
        },
        {
          "endpoint": "conversations.setTopic",
          "action": "Set channel topic about Diwali x Thanksgiving Potluck",
          "justification": "Clarify channel purpose"
        },
        {
          "endpoint": "chat.update",
          "action": "Update a previous message with new info",
          "justification": "Correct or enhance earlier communication"
        },
        {
          "endpoint": "conversations.list",
          "action": "Discover channels related to Diwali x Thanksgiving Potluck",
          "justification": "Need to find relevant channels before coordinating"
        },
        {
          "endpoint": "conversations.setTopic",
          "action": "Set channel topic about Diwali x Thanksgiving Potluck",
          "justification": "Clarify channel purpose"
        },
        {
          "endpoint": "chat.delete",
          "action": "Delete an outdated message",
          "justification": "Clean up obsolete information"
        },
        {
          "endpoint": "conversations.list",
          "action": "Discover channels related to Diwali x Thanksgiving Potluck",
          "justification": "Need to find relevant channels before coordinating"
        },
        {
          "endpoint": "conversations.members",
          "action": "Check members of #growth",
          "justification": "Verify the right people are involved"
        },
        {
          "endpoint": "reactions.add",
          "action": "React to a key message",
          "justification": "Signal acknowledgment without cluttering"
        },
        {
          "endpoint": "conversations.open",
          "action": "Open DM with Kenji Sato",
          "justification": "Direct coordination about APAC growth"
        },
        {
          "endpoint": "users.list",
          "action": "List all team members",
          "justification": "Identify who to involve based on expertise"
        },
        {
          "endpoint": "conversations.history",
          "action": "Read recent messages in #core-infra",
          "justification": "Gather context about GPU incidents, Kubernetes, cost optimization"
        }
      ],
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "is_dm": {
              "eq": true
            }
          },
          "expected_count": {
            "min": 1
          }
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {},
          "expected_count": {
            "min": 1
          }
        }
      ]
    },
    {
      "id": "test_40",
      "name": "Lunar New Year Product Launch",
      "prompt": "I need some help getting our Lunar New Year product launch coordination sorted out. We're targeting APAC markets and I want to make sure we're being culturally sensitive with our timing and messaging.\n\nFirst, can you help me figure out who on our team has the right expertise for this? I need to reach out directly to our frontend person about some UI elements that need to be adapted, and also connect with our engineering lead separately about the technical rollout schedule.\n\nAlso, I noticed the #project-alpha-dev channel might have some people who aren't really needed for this particular launch, and I want to keep discussions focused. Can you check who's currently in that channel? We may need to streamline the membership a bit - I think there are a couple of folks who were added for previous projects but don't need to be looped in on the APAC launch details.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 7,
        "tools_required": [
          "users.list",
          "conversations.open",
          "conversations.open",
          "conversations.members",
          "conversations.kick",
          "conversations.kick",
          "users.list"
        ]
      },
      "_step_sequence": [
        {
          "endpoint": "users.list",
          "action": "List all team members",
          "justification": "Identify who to involve based on expertise"
        },
        {
          "endpoint": "users.list",
          "action": "List all team members",
          "justification": "Identify who to involve based on expertise"
        },
        {
          "endpoint": "conversations.kick",
          "action": "Remove someone from a channel",
          "justification": "Manage channel membership appropriately"
        },
        {
          "endpoint": "conversations.open",
          "action": "Open DM with Aisha Okonkwo",
          "justification": "Direct coordination about frontend"
        },
        {
          "endpoint": "conversations.kick",
          "action": "Remove someone from a channel",
          "justification": "Manage channel membership appropriately"
        },
        {
          "endpoint": "conversations.members",
          "action": "Check members of #project-alpha-dev",
          "justification": "Verify the right people are involved"
        },
        {
          "endpoint": "conversations.open",
          "action": "Open DM with Hubert Marek",
          "justification": "Direct coordination about engineering"
        }
      ],
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "is_dm": {
              "eq": true
            }
          },
          "expected_count": {
            "min": 1
          }
        }
      ]
    },
    {
      "id": "test_41",
      "name": "Music Festival Tech Stack",
      "prompt": "I need some help cleaning up our Afrobeats festival streaming project workspace. We've had some organizational issues lately. First, can you find out who's currently hanging out in #random and also get me a list of everyone on the team? I need to verify Robert Chen's role since he's supposed to be leading the engineering side of things.\n\nI also need you to dig through our CDN-related conversations - we had some important discussions about our content delivery setup that I need to reference. Check what's been happening recently in #project-alpha too.\n\nOnce you've got the lay of the land, please remove Artem Bogdanov from #project-alpha-dev and also kick Hubert Marek from #core-infra - they've moved to different workstreams. Post an update to #core-infra about our streaming infrastructure progress, and update the topic there to reflect our virtual festival focus.\n\nThere's also an outdated message I posted earlier that needs deleting, and I need to correct some information in a previous update I sent. Can you help me sort all this out?",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 13,
        "tools_required": [
          "conversations.members",
          "users.list",
          "users.info",
          "search.messages",
          "search.messages",
          "conversations.history",
          "conversations.list",
          "conversations.kick",
          "conversations.kick",
          "chat.postMessage",
          "conversations.setTopic",
          "chat.delete",
          "chat.update"
        ]
      },
      "_step_sequence": [
        {
          "endpoint": "conversations.kick",
          "action": "Remove someone from a channel",
          "justification": "Manage channel membership appropriately"
        },
        {
          "endpoint": "chat.postMessage",
          "action": "Post update to #core-infra",
          "justification": "Share findings or coordinate with team"
        },
        {
          "endpoint": "conversations.kick",
          "action": "Remove someone from a channel",
          "justification": "Manage channel membership appropriately"
        },
        {
          "endpoint": "conversations.members",
          "action": "Check members of #random",
          "justification": "Verify the right people are involved"
        },
        {
          "endpoint": "search.messages",
          "action": "Search for messages about 'CDN'",
          "justification": "Find specific discussions related to the topic"
        },
        {
          "endpoint": "search.messages",
          "action": "Search for messages about 'CDN'",
          "justification": "Find specific discussions related to the topic"
        },
        {
          "endpoint": "conversations.history",
          "action": "Read recent messages in #project-alpha",
          "justification": "Gather context about general"
        },
        {
          "endpoint": "conversations.list",
          "action": "Discover channels related to Music Festival Tech Stack",
          "justification": "Need to find relevant channels before coordinating"
        },
        {
          "endpoint": "chat.delete",
          "action": "Delete an outdated message",
          "justification": "Clean up obsolete information"
        },
        {
          "endpoint": "users.info",
          "action": "Get details about Robert Chen",
          "justification": "Verify their role in engineering lead"
        },
        {
          "endpoint": "users.list",
          "action": "List all team members",
          "justification": "Identify who to involve based on expertise"
        },
        {
          "endpoint": "conversations.setTopic",
          "action": "Set channel topic about Music Festival Tech Stack",
          "justification": "Clarify channel purpose"
        },
        {
          "endpoint": "chat.update",
          "action": "Update a previous message with new info",
          "justification": "Correct or enhance earlier communication"
        }
      ],
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {},
          "expected_count": {
            "min": 1
          }
        }
      ]
    },
    {
      "id": "test_42",
      "name": "Pierogi vs Varenyky Debug Session",
      "prompt": "I need your help coordinating something for our Polish-Ukrainian debugging session today. We're calling it the \"Pierogi vs Varenyky Debug Session\" because Olena and Sophie are bringing food during our break!\n\nFirst, can you check on Sophie Dubois and Olena Petrenko's profiles? I want to make sure I have their roles right when I introduce them to the rest of the team. Also, I need to catch up on what's been happening in the engineering channel - there were some login issues discussed that might be relevant.\n\nCould you find any channels that might already be discussing this topic, and if there isn't a dedicated space yet, please create a new channel for our pierogi-vs-varenyky session? We should also post a heads-up in core-infra about our debugging plans.\n\nOh, and Aisha left a great message earlier that I want to react to with a thumbs up. Also, I need to remove someone from one of our project channels who's no longer on the team. Thanks!",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 8,
        "tools_required": [
          "users.info",
          "users.info",
          "conversations.history",
          "conversations.list",
          "conversations.create",
          "chat.postMessage",
          "reactions.add",
          "conversations.kick"
        ]
      },
      "_step_sequence": [
        {
          "endpoint": "users.info",
          "action": "Get details about Sophie Dubois",
          "justification": "Verify their role in ML research"
        },
        {
          "endpoint": "users.info",
          "action": "Get details about Olena Petrenko",
          "justification": "Verify their role in ML engineering"
        },
        {
          "endpoint": "reactions.add",
          "action": "React to a key message",
          "justification": "Signal acknowledgment without cluttering"
        },
        {
          "endpoint": "conversations.list",
          "action": "Discover channels related to Pierogi vs Varenyky Debug Session",
          "justification": "Need to find relevant channels before coordinating"
        },
        {
          "endpoint": "conversations.create",
          "action": "Create channel #pierogi-vs-varenyky-",
          "justification": "Dedicated space for this initiative"
        },
        {
          "endpoint": "chat.postMessage",
          "action": "Post update to #core-infra",
          "justification": "Share findings or coordinate with team"
        },
        {
          "endpoint": "conversations.history",
          "action": "Read recent messages in #engineering",
          "justification": "Gather context about Login issues, technical"
        },
        {
          "endpoint": "conversations.kick",
          "action": "Remove someone from a channel",
          "justification": "Manage channel membership appropriately"
        }
      ],
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "is_private": {
              "eq": false
            }
          },
          "expected_count": {
            "min": 1
          }
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {},
          "expected_count": {
            "min": 1
          }
        }
      ]
    },
    {
      "id": "test_43",
      "name": "Traditional Tea Ceremony Planning",
      "prompt": "I need some help organizing our cross-cultural tea ceremony exchange between the Tokyo and Paris offices. Can you set up a dedicated channel for this traditional tea ceremony planning initiative and make sure the channel topic clearly explains what it's about?\n\nBefore we get started, I want to check what's been happening in #random lately - there was some casual conversation about lunch plans and something about Gemini that might be relevant to who's interested. Also, take a look at #growth because I remember seeing some Reddit strategy discussion that could tie into how we promote this cultural exchange.\n\nI posted a few messages earlier about the event that need updating with corrected information - the dates and details have changed. There's also one outdated message I sent that's no longer relevant and should just be removed entirely to avoid confusion.\n\nOh, and if you see the message where Priya or Mateo showed interest in participating, can you add a reaction to acknowledge it? I don't want to clutter the thread with another reply.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 11,
        "tools_required": [
          "conversations.create",
          "conversations.setTopic",
          "conversations.history",
          "conversations.history",
          "chat.update",
          "chat.update",
          "chat.update",
          "reactions.add",
          "chat.delete",
          "conversations.create",
          "conversations.create"
        ]
      },
      "_step_sequence": [
        {
          "endpoint": "conversations.create",
          "action": "Create channel #traditional-tea-cere",
          "justification": "Dedicated space for this initiative"
        },
        {
          "endpoint": "conversations.setTopic",
          "action": "Set channel topic about Traditional Tea Ceremony Planning",
          "justification": "Clarify channel purpose"
        },
        {
          "endpoint": "conversations.create",
          "action": "Create channel #traditional-tea-cere",
          "justification": "Dedicated space for this initiative"
        },
        {
          "endpoint": "conversations.create",
          "action": "Create channel #traditional-tea-cere",
          "justification": "Dedicated space for this initiative"
        },
        {
          "endpoint": "conversations.history",
          "action": "Read recent messages in #random",
          "justification": "Gather context about Gemini discussion, lunch, casual"
        },
        {
          "endpoint": "chat.update",
          "action": "Update a previous message with new info",
          "justification": "Correct or enhance earlier communication"
        },
        {
          "endpoint": "reactions.add",
          "action": "React to a key message",
          "justification": "Signal acknowledgment without cluttering"
        },
        {
          "endpoint": "chat.delete",
          "action": "Delete an outdated message",
          "justification": "Clean up obsolete information"
        },
        {
          "endpoint": "conversations.history",
          "action": "Read recent messages in #growth",
          "justification": "Gather context about Growth metrics, Reddit strategy"
        },
        {
          "endpoint": "chat.update",
          "action": "Update a previous message with new info",
          "justification": "Correct or enhance earlier communication"
        },
        {
          "endpoint": "chat.update",
          "action": "Update a previous message with new info",
          "justification": "Correct or enhance earlier communication"
        }
      ],
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "is_private": {
              "eq": false
            }
          },
          "expected_count": {
            "min": 1
          }
        }
      ]
    },
    {
      "id": "test_44",
      "name": "Lunar New Year Product Launch",
      "prompt": "I need your help coordinating our Lunar New Year product launch for the APAC market. Can you first catch me up on what's been happening in #model-research and #core-infra? I want to make sure we're not planning a launch during any technical instability.\n\nAlso, I need to verify that Kenji Sato and Robert Chen are the right people to loop in on this - can you confirm their roles for me? Kenji should be handling APAC growth and Robert should be our engineering lead.\n\nOnce you've gathered that context, please set up a dedicated channel for this initiative and make sure the topic clearly reflects what we're working on. Then post a summary of what you found to #project-alpha-dev so the team is aligned.\n\nOh, and I think I sent a message earlier about the timeline that needs updating with the correct dates - can you fix that? And if there's anything important in those channel histories worth acknowledging, give it a thumbs up so people know we've seen it.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 10,
        "tools_required": [
          "conversations.history",
          "conversations.history",
          "users.info",
          "users.info",
          "conversations.create",
          "conversations.setTopic",
          "chat.postMessage",
          "chat.update",
          "reactions.add",
          "conversations.create"
        ]
      },
      "_step_sequence": [
        {
          "endpoint": "conversations.history",
          "action": "Read recent messages in #model-research",
          "justification": "Gather context about 7B checkpoint, quantization, hallucinations"
        },
        {
          "endpoint": "users.info",
          "action": "Get details about Kenji Sato",
          "justification": "Verify their role in APAC growth"
        },
        {
          "endpoint": "conversations.history",
          "action": "Read recent messages in #core-infra",
          "justification": "Gather context about GPU incidents, Kubernetes, cost optimization"
        },
        {
          "endpoint": "users.info",
          "action": "Get details about Robert Chen",
          "justification": "Verify their role in engineering lead"
        },
        {
          "endpoint": "chat.postMessage",
          "action": "Post update to #project-alpha-dev",
          "justification": "Share findings or coordinate with team"
        },
        {
          "endpoint": "conversations.create",
          "action": "Create channel #lunar-new-year-produ",
          "justification": "Dedicated space for this initiative"
        },
        {
          "endpoint": "chat.update",
          "action": "Update a previous message with new info",
          "justification": "Correct or enhance earlier communication"
        },
        {
          "endpoint": "conversations.setTopic",
          "action": "Set channel topic about Lunar New Year Product Launch",
          "justification": "Clarify channel purpose"
        },
        {
          "endpoint": "reactions.add",
          "action": "React to a key message",
          "justification": "Signal acknowledgment without cluttering"
        },
        {
          "endpoint": "conversations.create",
          "action": "Create channel #lunar-new-year-produ",
          "justification": "Dedicated space for this initiative"
        }
      ],
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "is_private": {
              "eq": false
            }
          },
          "expected_count": {
            "min": 1
          }
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {},
          "expected_count": {
            "min": 1
          }
        }
      ]
    },
    {
      "id": "test_45",
      "name": "Music Festival Tech Stack",
      "prompt": "I need some help coordinating our virtual Afrobeats festival streaming infrastructure project. Can you help me get things organized across our Slack workspace?\n\nFirst, I want to make sure the #engineering channel clearly reflects that we're focused on the Music Festival Tech Stack right now - the topic should be updated so everyone knows what we're working on.\n\nI remember there were some discussions about CDN solutions a while back that would be really relevant to our streaming needs - can you dig those up for me?\n\nI also need to figure out who on our team should be involved. I know Robert Chen is supposed to be leading the engineering side, but can you confirm his role? And I think \u0141ukasz Kowalski has some great performance optimization experience - make sure he's part of the conversation in our main coordination channel.\n\nOnce you've gathered all this info, I need updates posted to #engineering, #frontend, and #general to get everyone aligned on our festival streaming infrastructure plans. Also, check what channels we have available that might be relevant to this project.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 9,
        "tools_required": [
          "conversations.setTopic",
          "search.messages",
          "users.list",
          "users.info",
          "conversations.list",
          "chat.postMessage",
          "chat.postMessage",
          "chat.postMessage",
          "conversations.invite"
        ]
      },
      "_step_sequence": [
        {
          "endpoint": "conversations.setTopic",
          "action": "Set channel topic about Music Festival Tech Stack",
          "justification": "Clarify channel purpose"
        },
        {
          "endpoint": "chat.postMessage",
          "action": "Post update to #engineering",
          "justification": "Share findings or coordinate with team"
        },
        {
          "endpoint": "conversations.list",
          "action": "Discover channels related to Music Festival Tech Stack",
          "justification": "Need to find relevant channels before coordinating"
        },
        {
          "endpoint": "chat.postMessage",
          "action": "Post update to #frontend",
          "justification": "Share findings or coordinate with team"
        },
        {
          "endpoint": "search.messages",
          "action": "Search for messages about 'CDN'",
          "justification": "Find specific discussions related to the topic"
        },
        {
          "endpoint": "users.list",
          "action": "List all team members",
          "justification": "Identify who to involve based on expertise"
        },
        {
          "endpoint": "chat.postMessage",
          "action": "Post update to #general",
          "justification": "Share findings or coordinate with team"
        },
        {
          "endpoint": "users.info",
          "action": "Get details about Robert Chen",
          "justification": "Verify their role in engineering lead"
        },
        {
          "endpoint": "conversations.invite",
          "action": "Invite \u0141ukasz Kowalski to the channel",
          "justification": "Their Polish perspective is valuable"
        }
      ],
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {},
          "expected_count": {
            "min": 1
          }
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {},
          "expected_count": {
            "min": 1
          }
        }
      ]
    },
    {
      "id": "test_46",
      "name": "Anime Convention Booth Setup",
      "prompt": "I need help getting our anime convention booth coordination sorted out. Can you check what's been happening in #product-growth and #random lately? I want to make sure I'm caught up on any relevant discussions before we dive into planning.\n\nAlso, I remember there were some conversations about badges somewhere - can you find those for me? We had some outdated messages about our old booth location that need to be removed since we got reassigned to a different hall.\n\nI need to loop in Olena Petrenko on this since her perspective would be really helpful for the setup logistics. And I should probably reach out directly to John Doe and Priya Sharma separately - John for general coordination and Priya about the infrastructure stuff like power and internet at the booth.\n\nOh, and let's update the channel topics for #product-growth and #project-alpha-dev to reflect that we're focusing on the anime expo booth setup now. There were a couple of my earlier messages that need corrections too - I posted the wrong setup times initially. Once you find the key planning message, just give it a thumbs up so everyone knows we're aligned.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 13,
        "tools_required": [
          "conversations.history",
          "conversations.history",
          "search.messages",
          "chat.delete",
          "chat.delete",
          "conversations.setTopic",
          "conversations.setTopic",
          "conversations.invite",
          "conversations.open",
          "conversations.open",
          "chat.update",
          "chat.update",
          "reactions.add"
        ]
      },
      "_step_sequence": [
        {
          "endpoint": "chat.update",
          "action": "Update a previous message with new info",
          "justification": "Correct or enhance earlier communication"
        },
        {
          "endpoint": "search.messages",
          "action": "Search for messages about 'badges'",
          "justification": "Find specific discussions related to the topic"
        },
        {
          "endpoint": "chat.delete",
          "action": "Delete an outdated message",
          "justification": "Clean up obsolete information"
        },
        {
          "endpoint": "reactions.add",
          "action": "React to a key message",
          "justification": "Signal acknowledgment without cluttering"
        },
        {
          "endpoint": "conversations.open",
          "action": "Open DM with John Doe",
          "justification": "Direct coordination about general"
        },
        {
          "endpoint": "chat.delete",
          "action": "Delete an outdated message",
          "justification": "Clean up obsolete information"
        },
        {
          "endpoint": "conversations.setTopic",
          "action": "Set channel topic about Anime Convention Booth Setup",
          "justification": "Clarify channel purpose"
        },
        {
          "endpoint": "conversations.history",
          "action": "Read recent messages in #product-growth",
          "justification": "Gather context about Japan launch, APAC metrics, latency fixes"
        },
        {
          "endpoint": "conversations.invite",
          "action": "Invite Olena Petrenko to the channel",
          "justification": "Their Ukrainian perspective is valuable"
        },
        {
          "endpoint": "conversations.setTopic",
          "action": "Set channel topic about Anime Convention Booth Setup",
          "justification": "Clarify channel purpose"
        },
        {
          "endpoint": "conversations.history",
          "action": "Read recent messages in #random",
          "justification": "Gather context about Gemini discussion, lunch, casual"
        },
        {
          "endpoint": "conversations.open",
          "action": "Open DM with Priya Sharma",
          "justification": "Direct coordination about infrastructure"
        },
        {
          "endpoint": "chat.update",
          "action": "Update a previous message with new info",
          "justification": "Correct or enhance earlier communication"
        }
      ],
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "is_dm": {
              "eq": true
            }
          },
          "expected_count": {
            "min": 1
          }
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {},
          "expected_count": {
            "min": 1
          }
        }
      ]
    },
    {
      "id": "test_47",
      "name": "Cricket World Cup Watch Party",
      "prompt": "Hey, I need your help organizing a Cricket World Cup watch party for our office! We've got team members spread across India, UK, and Australia timezones, so this needs some coordination.\n\nFirst, can you check what channels we already have that might be relevant to this kind of event? I want to make sure we're not duplicating efforts.\n\nI think we should create a dedicated channel for the watch party coordination. Once that's set up, update the topic so people know what it's for. I also need to reach out to Priya Sharma directly since she handles infrastructure and we'll need her help with the streaming setup across offices.\n\nCan you pull up our team roster so I can see who else might want to be involved? Oh, and I posted a message in #general about the watch party time being 3pm PST - that's wrong, it should be 3pm IST since we're primarily coordinating with the India office. Please fix that. There's also an old message I sent about booking a downtown venue that's no longer happening - just delete that one entirely.\n\nThanks!",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 7,
        "tools_required": [
          "conversations.list",
          "conversations.create",
          "conversations.setTopic",
          "conversations.open",
          "users.list",
          "chat.update",
          "chat.delete"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "is_private": {
              "eq": false
            }
          },
          "expected_count": {
            "min": 1
          }
        },
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "is_dm": {
              "eq": true
            }
          },
          "expected_count": {
            "min": 1
          }
        },
        {
          "diff_type": "changed",
          "entity": "messages",
          "where": {
            "message_id": {
              "eq": "1699564900.000124"
            }
          },
          "expected_changes": {
            "message_text": {
              "to": {
                "contains": "IST"
              }
            }
          }
        },
        {
          "diff_type": "removed",
          "entity": "messages",
          "where": {
            "message_id": {
              "eq": "1699564950.000125"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_48",
      "name": "Channel Audit and Rename",
      "prompt": "I need to do a quick audit of our #engineering channel. Can you get me the full details about the channel and check who's currently in it?\n\nPost the audit results to #general - I want a message showing the exact member count (as a number) and a list of the current members by name.\n\nAfter that, rename #engineering to \"engineering-backend\" since that's what the team mainly works on. Then post a follow-up message in #general confirming the rename was successful with the new channel name.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 7,
        "tools_required": [
          "conversations.list",
          "conversations.info",
          "conversations.members",
          "users.list",
          "chat.postMessage",
          "conversations.rename",
          "chat.postMessage"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "message_text": {
              "contains": "5"
            }
          },
          "expected_count": {
            "min": 1
          }
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "message_text": {
              "regex": "[Mm]ember"
            }
          },
          "expected_count": {
            "min": 1
          }
        },
        {
          "diff_type": "changed",
          "entity": "channels",
          "where": {
            "channel_id": {
              "eq": "C03IJKL9012"
            }
          },
          "expected_changes": {
            "channel_name": {
              "to": {
                "contains": "engineering-backend"
              }
            }
          }
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "message_text": {
              "contains": "engineering-backend"
            }
          },
          "expected_count": {
            "min": 1
          }
        }
      ]
    },
    {
      "id": "test_49",
      "name": "Thread Q&A from DM - Circuit Tracer Rewrite",
      "prompt": "There's a thread in #engineering where Robert asked about the circuit tracer library rewrite timeline. We've been having issues with the layer-by-layer loading and need to rewrite it in PyTorch from scratch to handle multi-GPU distribution properly.\n\nSophie sent me a DM with her implementation plan and timeline since she's leading the PyTorch migration. Check my DM with Sophie to find her estimated completion date, then reply to Robert's question in the thread with that information.\n\nAfter replying, add a checkmark reaction to the original thread message to mark it as addressed.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 7,
        "tools_required": [
          "conversations.list",
          "conversations.history",
          "conversations.replies",
          "users.list",
          "conversations.open",
          "conversations.history",
          "chat.postMessage",
          "reactions.add"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C03IJKL9012"
            },
            "parent_id": {
              "eq": "1706110000.000100"
            },
            "message_text": {
              "contains": "Wednesday"
            }
          },
          "expected_count": {
            "min": 1
          }
        },
        {
          "diff_type": "added",
          "entity": "message_reactions",
          "where": {
            "message_id": {
              "eq": "1706110000.000100"
            },
            "user_id": {
              "eq": "U01AGENBOT9"
            }
          },
          "expected_count": {
            "min": 1
          }
        }
      ]
    },
    {
      "id": "test_50",
      "name": "Quarterly Workspace Reorganization",
      "prompt": "It's end of Q4 and I need to reorganize our Slack workspace. Help me with the following:\n\n1. First, list all the channels I'm currently a member of. Format it as a numbered list showing: channel name, member count. Send that list to me as a DM to myself.\n\n2. The \"old-project-q3\" channel was archived but we're reviving it for Q1 planning. Unarchive it and rename it to \"q1-planning-2026\". Update the topic to \"Q1 2026 Planning - Americas Team\".\n\n3. In #project-alpha-dev, we want to focus on the Americas timezone team only. Check each member's timezone using their profile info, then remove anyone who is NOT in an Americas timezone (timezone should start with \"America/\").\n\n4. I left an \ud83d\udc40 reaction on the circuit-tracer thread in #engineering a while back - please remove that since we've addressed the issue.\n\n5. Join the #product-growth channel since I'm not in it yet.\n\n6. Finally, post a Q1 kickoff message in the newly renamed channel. In the message, list which team members from #project-alpha-dev are in Americas timezones (the ones who remain after cleanup) - include their names and timezones.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 12,
        "tools_required": [
          "users.conversations",
          "conversations.members",
          "conversations.open",
          "chat.postMessage",
          "conversations.list",
          "conversations.unarchive",
          "conversations.rename",
          "conversations.setTopic",
          "conversations.members",
          "users.info",
          "conversations.kick",
          "reactions.remove",
          "conversations.join",
          "chat.postMessage"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "message_text": {
              "contains": "general"
            }
          },
          "expected_count": {
            "min": 1
          }
        },
        {
          "diff_type": "changed",
          "entity": "channels",
          "where": {
            "channel_id": {
              "eq": "C_OLD_PROJECT"
            }
          },
          "expected_changes": {
            "is_archived": {
              "to": {
                "eq": false
              }
            },
            "channel_name": {
              "to": {
                "contains": "q1-planning"
              }
            }
          }
        },
        {
          "diff_type": "changed",
          "entity": "channels",
          "where": {
            "channel_id": {
              "eq": "C_OLD_PROJECT"
            }
          },
          "expected_changes": {
            "topic_text": {
              "to": {
                "contains": "Americas"
              }
            }
          }
        },
        {
          "diff_type": "removed",
          "entity": "channel_members",
          "where": {
            "channel_id": {
              "eq": "C06ALPHADEV"
            },
            "user_id": {
              "eq": "U_PRIYA"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "removed",
          "entity": "channel_members",
          "where": {
            "channel_id": {
              "eq": "C06ALPHADEV"
            },
            "user_id": {
              "eq": "U_LUKAS"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "removed",
          "entity": "channel_members",
          "where": {
            "channel_id": {
              "eq": "C06ALPHADEV"
            },
            "user_id": {
              "eq": "U_KENJI"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "removed",
          "entity": "channel_members",
          "where": {
            "channel_id": {
              "eq": "C06ALPHADEV"
            },
            "user_id": {
              "eq": "U_AISHA"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "channel_id": {
              "eq": "C06ALPHADEV"
            },
            "user_id": {
              "eq": "U_MATEO"
            }
          },
          "expected_count": 0
        },
        {
          "diff_type": "removed",
          "entity": "channel_members",
          "where": {
            "channel_id": {
              "eq": "C06ALPHADEV"
            },
            "user_id": {
              "eq": "U_MATEO"
            }
          },
          "expected_count": 0
        },
        {
          "diff_type": "changed",
          "entity": "channel_members",
          "where": {
            "channel_id": {
              "eq": "C06ALPHADEV"
            },
            "user_id": {
              "eq": "U_MATEO"
            }
          },
          "expected_count": 0
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "channel_id": {
              "eq": "C06ALPHADEV"
            },
            "user_id": {
              "eq": "U_ROBERT"
            }
          },
          "expected_count": 0
        },
        {
          "diff_type": "removed",
          "entity": "channel_members",
          "where": {
            "channel_id": {
              "eq": "C06ALPHADEV"
            },
            "user_id": {
              "eq": "U_ROBERT"
            }
          },
          "expected_count": 0
        },
        {
          "diff_type": "changed",
          "entity": "channel_members",
          "where": {
            "channel_id": {
              "eq": "C06ALPHADEV"
            },
            "user_id": {
              "eq": "U_ROBERT"
            }
          },
          "expected_count": 0
        },
        {
          "diff_type": "removed",
          "entity": "message_reactions",
          "where": {
            "message_id": {
              "eq": "1706110000.000100"
            },
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "reaction_type": {
              "eq": "eyes"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "channel_id": {
              "eq": "C_GROWTH"
            },
            "user_id": {
              "eq": "U01AGENBOT9"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C_OLD_PROJECT"
            },
            "message_text": {
              "contains": "Mateo"
            }
          },
          "expected_count": {
            "min": 1
          }
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C_OLD_PROJECT"
            },
            "message_text": {
              "contains": "Robert"
            }
          },
          "expected_count": {
            "min": 1
          }
        }
      ]
    },
    {
      "id": "test_51",
      "name": "Silicon Dreams",
      "prompt": "Kenji, Olena, and Priya want to spin up a generative art project using the team's GPU infrastructure. They drew inspiration from the compute discussions and that circuit-tracer visualization work happening somewhere in the workspace. Can you get them organized? They need a channel \u2014 call it #fractal-forge \u2014 with a topic that contains \"GPU-meets-art\". Invite all three, and post an inaugural message that references whatever you can dig up about the GPU work and the circuit-tracer thread that got them excited -- those are going to be messeges on the topic, written by either three. Kenji also wants an :art: reaction on whichever message in #engineering first mentioned the circuit-tracer. Set up a group DM with just Kenji and Olena so they can sort out GPU scheduling privately. And actually, rename the channel to #silicon-dreams \u2014 everyone agreed it sounds better.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 12,
        "tools_required": [
          "search.messages",
          "conversations.history",
          "conversations.create",
          "conversations.setTopic",
          "conversations.invite",
          "chat.postMessage",
          "reactions.add",
          "conversations.replies",
          "conversations.rename",
          "conversations.open"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "channel_name": {
              "eq": "silicon-dreams"
            },
            "topic_text": {
              "i_contains": "GPU-meets-art"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "is_gc": {
              "eq": true
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U_PRIYA"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U_KENJI"
            }
          },
          "expected_count": 2
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U_OLENA"
            }
          },
          "expected_count": 2
        },
        {
          "diff_type": "added",
          "entity": "message_reactions",
          "where": {
            "message_id": {
              "eq": "1706110000.000100"
            },
            "reaction_type": {
              "eq": "art"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "message_text": {
              "i_contains": "circuit"
            }
          },
          "expected_count": {
            "min": 1
          }
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "message_text": {
              "i_contains": "GPU"
            }
          },
          "expected_count": {
            "min": 1
          }
        },
        {
          "diff_type": "added",
          "entity": "message_reactions",
          "where": {
            "message_id": {
              "eq": "1706110000.000100"
            },
            "reaction_type": {
              "eq": "eyes"
            }
          },
          "expected_count": 0
        },
        {
          "diff_type": "removed",
          "entity": "message_reactions",
          "where": {
            "message_id": {
              "eq": "1706110000.000100"
            },
            "reaction_type": {
              "eq": "eyes"
            }
          },
          "expected_count": 0
        },
        {
          "diff_type": "changed",
          "entity": "message_reactions",
          "where": {
            "message_id": {
              "eq": "1706110000.000100"
            },
            "reaction_type": {
              "eq": "eyes"
            }
          },
          "expected_count": 0
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "message_text": {
              "i_contains": "circuit"
            }
          },
          "expected_count": 0
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C02EFGH5678"
            },
            "message_text": {
              "i_contains": "circuit"
            }
          },
          "expected_count": 0
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C03IJKL9012"
            },
            "message_text": {
              "i_contains": "circuit"
            }
          },
          "expected_count": 0
        }
      ]
    },
    {
      "id": "test_52",
      "name": "Midnight Bazaar",
      "prompt": "Sophie and Mateo want to bring the workspace's food culture together under one roof \u2014 a \"Midnight Bazaar\" inspired by all those coffee and pizza conversations scattered around the channels. Dig through the workspace to find what food chatter has been going on and who's been part of it - specifically, search for the authors of the messages that contain the words \"food\" or \"eat\". That old archived channel nobody uses anymore \u2014 revive it and repurpose it as bazaar headquarters. Set a topic that captures the night-market vibe (needs to include the words \"street food\"), and write an opening post that weaves in whatever food discussions you find. While you're at it, some housekeeping: Mateo says he's drowning in #project-alpha-dev notifications and wants out \u2014 remove him. Also, that message about the espresso machine in #random? Edit it to plug the bazaar. And delete that stale message in #random asking about ordering \"large pies\" \u2014 the bazaar makes casual lunch plans obsolete.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 10,
        "tools_required": [
          "search.messages",
          "conversations.unarchive",
          "conversations.join",
          "conversations.setTopic",
          "chat.postMessage",
          "conversations.kick",
          "chat.update",
          "chat.delete"
        ]
      },
      "assertions": [
        {
          "diff_type": "changed",
          "entity": "channels",
          "where": {
            "channel_id": {
              "eq": "C_OLD_PROJECT"
            }
          },
          "expected_changes": {
            "is_archived": {
              "from": true,
              "to": false
            },
            "topic_text": {
              "to": {
                "i_contains": "street food"
              }
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "channel_id": {
              "eq": "C_OLD_PROJECT"
            },
            "user_id": {
              "eq": "U01AGENBOT9"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C_OLD_PROJECT"
            }
          },
          "expected_count": {
            "min": 1
          }
        },
        {
          "diff_type": "removed",
          "entity": "channel_members",
          "where": {
            "channel_id": {
              "eq": "C06ALPHADEV"
            },
            "user_id": {
              "eq": "U_MATEO"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "changed",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C02EFGH5678"
            }
          },
          "expected_changes": {
            "message_text": {
              "to": {
                "i_contains": "bazaar"
              }
            }
          },
          "ignore": [
            "blocks"
          ],
          "expected_count": {
            "min": 1
          }
        },
        {
          "diff_type": "removed",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C02EFGH5678"
            },
            "message_text": {
              "i_contains": "large pies"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_53",
      "name": "Phantom Frequencies",
      "prompt": "Aisha, Lukasz, Gabriel, Nick, and Priya want to launch a collaborative radio drama called \"Phantom Frequencies\" \u2014 a serialized fiction project where each person broadcasts a story from their timezone. They got the idea from all the talk about signal latency, CDN routing, and transmission in the workspace. Set them up with a channel called #phantom-frequencies, give it a topic that fits the concept (need to mention \"Phantom Frequencies\"), and get everyone in. Check Aisha's profile to confirm her timezone for the broadcast schedule, and DM her separately to ask about her episode's Lagos-blackout storyline. Write a first post in the channel that draws on whatever transmission and signal discussions you can find in the workspace. Also, that :eyes: reaction you left on the circuit-tracer message in #engineering \u2014 remove it, it's stale. There's a channel called #product-growth you're not in \u2014 pop in and check if there's anything about the APAC launch that could feed into the drama's world-building, then leave once you've got what you need. If you find in this chat a user with any user with a name that contains \"incognito\" ping them to change the nickname to \"anything\" - we need to maintain a trustful atmosphere here. And that #project-alpha channel that's basically just you \u2014 archive it, nobody's using it.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 12,
        "tools_required": [
          "conversations.history",
          "users.info",
          "conversations.create",
          "conversations.setTopic",
          "conversations.invite",
          "chat.postMessage",
          "conversations.open",
          "reactions.remove",
          "conversations.join",
          "conversations.leave",
          "conversations.archive"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "channel_name": "phantom-frequencies",
            "topic_text": {
              "i_contains": "Phantom Frequencies"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "in": [
                "U_AISHA",
                "U_LUKAS",
                "U09GABRIEL",
                "U08NICK23",
                "U_PRIYA"
              ]
            }
          },
          "expected_count": {
            "min": 5
          }
        },
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "is_dm": true
          },
          "expected_count": {
            "min": 1
          }
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "message_text": {
              "i_contains": "Lagos"
            }
          },
          "expected_count": {
            "min": 1
          }
        },
        {
          "diff_type": "removed",
          "entity": "message_reactions",
          "where": {
            "message_id": "1706110000.000100",
            "reaction_type": "eyes"
          },
          "expected_count": 1
        },
        {
          "diff_type": "changed",
          "entity": "channels",
          "where": {
            "channel_id": "C05ALPHA"
          },
          "expected_changes": {
            "is_archived": {
              "to": true
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": "U_INCOGNITO"
          },
          "expected_count": {
            "min": 1
          }
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": "U01AGENBOT9"
          },
          "expected_count": {
            "min": 3
          }
        }
      ]
    },
    {
      "id": "test_54",
      "name": "Cartography of Lost Rivers",
      "prompt": "Hubert, John, Morgan, and Omer want to start a mapping project for forgotten underground rivers \u2014 they're calling it \"Cartography of Lost Rivers\". Pull up some details about #core-infra to see if that community would be a good match for cross-pollination. Now, \"Morgan\" \u2014 I mean the one who's been in the engineering discussions, not the other one. Also, that Morgan asked me to count all of the messages across all of the chats that mention the word \"supercomputer.\" Do this please. Then create #lost-rivers-cartography, set a topic about mapping forgotten urban waterways, invite all four, and write a project manifesto as the opening post that will say: '\"supercomputer\" mentioned <your_count> number of times across all of the chats'. DM Morgan privately to ask whether they'd rather lead the cartography side or the field exploration. Lastly, find a message about infrastructure in #engineering and edit it to include a mention of the new project.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 12,
        "tools_required": [
          "users.list",
          "conversations.list",
          "conversations.info",
          "search.all",
          "conversations.create",
          "conversations.setTopic",
          "conversations.invite",
          "chat.postMessage",
          "conversations.open",
          "chat.update",
          "conversations.history"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "channel_name": "lost-rivers-cartography",
            "topic_text": {
              "i_contains": "waterway"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "in": [
                "U06HUBERT23",
                "U02JOHNDOE1",
                "U05MORGAN23",
                "U04OMER23"
              ]
            }
          },
          "expected_count": {
            "min": 4
          }
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": "U01AGENBOT9",
            "message_text": {
              "regex": "(?i)supercomputer.*\\b2\\b"
            }
          },
          "expected_count": {
            "min": 1
          }
        },
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "is_dm": true
          },
          "expected_count": {
            "min": 1
          }
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": "U01AGENBOT9",
            "message_text": {
              "regex": "(?i)exploration"
            }
          },
          "expected_count": {
            "min": 1
          }
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": "U05MORGAN23"
          },
          "expected_count": {
            "min": 2
          }
        },
        {
          "diff_type": "changed",
          "entity": "messages",
          "where": {
            "channel_id": "C03IJKL9012"
          },
          "expected_changes": {
            "message_text": {
              "to": {
                "regex": "(?i)lost.rivers"
              }
            }
          },
          "ignore": [
            "blocks"
          ],
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": "U01AGENBOT9"
          },
          "expected_count": {
            "min": 2
          }
        }
      ]
    },
    {
      "id": "test_55",
      "name": "Dawn Chorus",
      "prompt": "Kenji, Priya, Aisha, Sophie, Lukasz, and Mateo want to do a \"Sunrise Relay\" \u2014 a collaborative poetry chain where each person writes a verse when dawn breaks in their timezone, passing the baton westward as the sun moves around the earth. Pull up everyone's locale and timezone info so you can figure out the correct relay order from earliest sunrise to latest. Check what's been going on in #frontend for some creative inspiration to seed the poem's theme. Create a channel called #sunrise-relay, set the topic to the relay schedule showing each person and their timezone in sunrise order in exactly this format: \"<username>: <timezone>\\n\" , invite all six, and post the full relay plan as the opening message. Drop a :sunrise: reaction on that schedule post. While you're looking at timezones, Mateo mentioned he can't keep up with #model-research because all the discussions happen during European hours and he's on Pacific time \u2014 pull him out of that channel. Oh, and rename #sunrise-relay to #dawn-chorus \u2014 the group decided the poem should be about birdsong at first light.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 10,
        "tools_required": [
          "users.list",
          "conversations.list",
          "conversations.history",
          "conversations.create",
          "conversations.setTopic",
          "conversations.invite",
          "chat.postMessage",
          "reactions.add",
          "conversations.kick",
          "conversations.rename"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "channel_name": "dawn-chorus",
            "topic_text": {
              "regex": "(?s)(?=.*Lagos)(?=.*Warsaw)(?=.*Paris)Tokyo.*Kolkata.*Los_Angeles"
            }
          },
          "expected_count": 1,
          "description": "Channel created as #sunrise-relay and renamed to #dawn-chorus, topic has relay schedule with all 6 timezones in correct east-to-west sunrise order"
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "in": [
                "U_KENJI",
                "U_PRIYA",
                "U_AISHA",
                "U_LUKAS",
                "U_SOPHIE",
                "U_MATEO"
              ]
            }
          },
          "expected_count": {
            "min": 6
          },
          "description": "All 6 relay participants invited to the new channel"
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": "U01AGENBOT9",
            "message_text": {
              "regex": "(?s)(?=.*Tokyo)(?=.*Los_Angeles)"
            }
          },
          "expected_count": {
            "min": 1
          },
          "description": "Agent posted the full relay plan as opening message with timezone references"
        },
        {
          "diff_type": "added",
          "entity": "message_reactions",
          "where": {
            "reaction_type": "sunrise"
          },
          "expected_count": 1,
          "description": ":sunrise: reaction dropped on the schedule post"
        },
        {
          "diff_type": "removed",
          "entity": "channel_members",
          "where": {
            "channel_id": "C_MODEL",
            "user_id": "U_MATEO"
          },
          "expected_count": 1,
          "description": "Mateo removed from #model-research due to Pacific timezone mismatch with European discussion hours"
        }
      ]
    },
    {
      "id": "test_56",
      "name": "The Apiary Report",
      "prompt": "Hubert does this thing he calls the \"Apiary Report\" \u2014 he sees the workspace as a beehive, and he wants a quarterly survey. First he needs the full picture: how many honeycomb cells does this hive have, and which ones are alive? Then go taste the honey in #growth \u2014 read through whatever's been happening there. Find the sweetest drop \u2014 the single best message \u2014 and mark it with a :honey_pot:. That's Hubert's forager tradition. Once you've done your tasting, write up a Forager's Report and post it in #random for the rest of the colony, summarizing whatever noteworthy conversation you found in #growth. Note, that the report must contain the words \"FORAGERS REPORT\". Last thing: #project-alpha is an empty cell. Nobody's in it, nothing's happening. Seal it off.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 5,
        "tools_required": [
          "conversations.list",
          "conversations.history",
          "reactions.add",
          "chat.postMessage",
          "conversations.archive"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "message_reactions",
          "where": {
            "reaction_type": "honey_pot",
            "user_id": "U01AGENBOT9",
            "message_id": {
              "in": [
                "1700300000.000001",
                "1700300060.000002",
                "1700300120.000003",
                "1700300180.000004",
                "1700300240.000005",
                "1700300300.000006"
              ]
            }
          },
          "expected_count": 1,
          "description": ":honey_pot: reaction added to a message in #growth channel"
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": "C02EFGH5678",
            "user_id": "U01AGENBOT9",
            "message_text": {
              "contains": "FORAGERS REPORT"
            }
          },
          "expected_count": 1,
          "description": "Forager's Report posted to #random with required phrase"
        },
        {
          "diff_type": "changed",
          "entity": "channels",
          "where": {
            "channel_id": "C05ALPHA"
          },
          "expected_count": 1,
          "expected_changes": {
            "is_archived": {
              "from": false,
              "to": true
            }
          },
          "description": "#project-alpha archived (empty cell sealed)"
        }
      ]
    },
    {
      "id": "test_57",
      "name": "Tide Pool",
      "prompt": "Think of the workspace as a coastline full of tide pools \u2014 each channel is its own micro-ecosystem, and you're the naturalist on a field survey. Start by pulling a roster of every organism on this coast and classify them into two species: \"admin\" and \"member.\" How many of each do you count? You need to sort the channel names in alphabetic order and send a message to Omer, in exactly this format: \"Field Repoert 1: <channel_name>: [<admins_count>, <members_count>]\". Then inspect #engineering. Probe under the circuit-tracer rock in that channel \u2014 there's a thread with replies most people never noticed. Count exactly how many replies are down there and note who left them. Over in #random, that message about coordinating lunch plans is an invasive species \u2014 remove it. And whoever originally posted that circuit-tracer message in #engineering \u2014 open a private channel with them and send them a field report formatted exactly like this: \"Field Report 2: [N] replies found under circuit-tracer in #engineering \u2014 organisms: [comma-separated names of repliers]\".",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 7,
        "tools_required": [
          "users.list",
          "conversations.list",
          "conversations.open",
          "chat.postMessage",
          "conversations.replies",
          "chat.delete",
          "conversations.history"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": "U04OMER23"
          },
          "expected_count": 1,
          "description": "DM channel opened with Omer to deliver the channel survey (Field Report 1)"
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": "U01AGENBOT9",
            "message_text": {
              "regex": "(?s)Field Repoert 1.*core-infra[^\\n]*\\[0,\\s*9\\].*engineering[^\\n]*\\[1,\\s*4\\].*frontend[^\\n]*\\[0,\\s*9\\].*general[^\\n]*\\[1,\\s*2\\].*growth[^\\n]*\\[0,\\s*4\\].*model-research[^\\n]*\\[0,\\s*9\\].*project-alpha[^\\n]*\\[0,\\s*1\\].*project-alpha-dev[^\\n]*\\[0,\\s*7\\].*random[^\\n]*\\[1,\\s*3\\]"
            }
          },
          "expected_count": 1,
          "description": "Field Report 1 sent to Omer listing all channels alphabetically with correct per-channel admin/member counts (engineering [1,4], general [1,2], random [1,3], project-alpha-dev [0,7], etc.)"
        },
        {
          "diff_type": "removed",
          "entity": "messages",
          "where": {
            "channel_id": "C02EFGH5678",
            "message_text": {
              "i_contains": "lunch"
            }
          },
          "expected_count": 1,
          "description": "Lunch coordination message removed from #random \u2014 invasive species eliminated"
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": "U_LUKAS"
          },
          "expected_count": 1,
          "description": "DM opened with Lukasz (U_LUKAS) \u2014 the original poster of the circuit-tracer message in #engineering"
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": "U01AGENBOT9",
            "message_text": {
              "regex": "(?si)Field Report 2:\\s*\\[?2\\]?\\s+repl.*circuit-tracer.*robert.*kenji"
            }
          },
          "expected_count": 1,
          "description": "Field Report 2 sent to circuit-tracer poster reporting exactly 2 replies by Robert and Kenji under the circuit-tracer thread"
        }
      ]
    },
    {
      "id": "test_58",
      "name": "Palimpsest",
      "prompt": "Robert and Nick want to do a \"Palimpsest\" \u2014 scraping off old marks in the workspace and writing over them with new ones. First, check what channels Nick is actually in \u2014 Robert suspects he's barely present anywhere. Count them. Then scrape off that :eyes: reaction you left on the circuit-tracer message in #engineering \u2014 it's old ink that needs to go. That lonely #project-alpha channel? Overwrite its name \u2014 rename it to #palimpsest-archive, it's being repurposed as a record of overwritten things. Finally, write the new text: post a message in #random that says exactly \"PALIMPSEST COMPLETE: [N] channels found for Nick\" where [N] is however many channels Nick turned out to be in.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 4,
        "tools_required": [
          "users.conversations",
          "reactions.remove",
          "conversations.rename",
          "chat.postMessage"
        ]
      },
      "assertions": [
        {
          "diff_type": "removed",
          "entity": "message_reactions",
          "where": {
            "message_id": "1706110000.000100",
            "user_id": "U01AGENBOT9",
            "reaction_type": "eyes"
          },
          "expected_count": 1,
          "description": "Agent's :eyes: reaction removed from circuit-tracer message in #engineering \u2014 old ink scraped off"
        },
        {
          "diff_type": "changed",
          "entity": "channels",
          "where": {
            "channel_id": "C05ALPHA"
          },
          "expected_count": 1,
          "expected_changes": {
            "channel_name": {
              "from": "project-alpha",
              "to": "palimpsest-archive"
            }
          },
          "description": "#project-alpha renamed to #palimpsest-archive \u2014 overwritten with new purpose"
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": "C02EFGH5678",
            "user_id": "U01AGENBOT9",
            "message_text": {
              "regex": "PALIMPSEST COMPLETE:\\s*1\\s+channels?\\s+found\\s+for\\s+Nick"
            }
          },
          "expected_count": 1,
          "description": "Palimpsest record posted in #random: 'PALIMPSEST COMPLETE: 1 channel(s) found for Nick' \u2014 Nick is only in #growth"
        }
      ]
    },
    {
      "id": "test_59",
      "name": "Manage Private Conversations",
      "prompt": "How many active private conversations do I have? If I have less than seven conversations, please create new conversations with the users one by one in alphabetic order, skipping those with whom I already have conversations. If I have more than seven conversations, start removing conversations with those in alphabetic order until I have exactly seven conversations.",
      "type": "actionEval",
      "seed_template": "slack_bench_v2",
      "impersonate_user_id": "U01AGENBOT9",
      "metadata": {
        "min_tool_calls": 8,
        "tools_required": [
          "conversations.list",
          "users.list",
          "conversations.open"
        ]
      },
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "is_dm": {
              "eq": true
            }
          },
          "expected_count": 6,
          "description": "6 new DM channels created to reach target of 7 private conversations (Agent started with 1 DM with Sophie, needs DMs with: Aisha, Artem, Carlos, Gabriel, Hubert, John \u2014 first 6 alphabetically excluding Sophie)"
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U_LUKAS"
            }
          },
          "expected_count": 0,
          "description": "ukasz (alphabetically after John) should NOT be added  agent stops at 7 conversations"
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U_MATEO"
            }
          },
          "expected_count": 0,
          "description": "Mateo (alphabetically after John) should NOT be added  agent stops at 7 conversations"
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U07MORGANFREE"
            }
          },
          "expected_count": 0,
          "description": "Morgan Freeman (alphabetically after John) should NOT be added  agent stops at 7 conversations"
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U05MORGAN23"
            }
          },
          "expected_count": 0,
          "description": "Morgan Stanley (alphabetically after John) should NOT be added  agent stops at 7 conversations"
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U08NICK23"
            }
          },
          "expected_count": 0,
          "description": "Nick (alphabetically after John) should NOT be added  agent stops at 7 conversations"
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U_OLENA"
            }
          },
          "expected_count": 0,
          "description": "Olena (alphabetically after John) should NOT be added  agent stops at 7 conversations"
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U04OMER23"
            }
          },
          "expected_count": 0,
          "description": "Omer (alphabetically after John) should NOT be added  agent stops at 7 conversations"
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U_PRIYA"
            }
          },
          "expected_count": 0,
          "description": "Priya (alphabetically after John) should NOT be added  agent stops at 7 conversations"
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U_ROBERT"
            }
          },
          "expected_count": 0,
          "description": "Robert Chen (alphabetically after John) should NOT be added  agent stops at 7 conversations"
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U03ROBERT23"
            }
          },
          "expected_count": 0,
          "description": "Robert Walsh (alphabetically after John) should NOT be added  agent stops at 7 conversations"
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U_KENJI"
            }
          },
          "expected_count": 0,
          "description": "Kenji (alphabetically after John) should NOT be added  agent stops at 7 conversations"
        }
      ]
    }
  ]
}